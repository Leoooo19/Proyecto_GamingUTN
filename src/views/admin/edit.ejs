<section class="admin-form-container">
    <h2>Editar producto</h2>

    <form action="/admin/productos/editar/<%= producto.id %>" 
        method="POST" 
        enctype="multipart/form-data"
        class="admin-form">

        <!-- Nombre -->
        <div class="form-group">
            <label for="nombre">Nombre del producto:</label>
            <input 
                type="text" 
                id="nombre" 
                name="nombre" 
                value="<%= producto.nombre %>" 
                required
            >
        </div>

        <!-- Categoría -->
        <div class="form-group">
            <label for="categoria">Categoría:</label>
            
            <select id="categoria" name="categoria" required>
                <option value="TECLADO" <%= producto.categoria === "TECLADO" ? "selected" : "" %>>TECLADO</option>
                <option value="AURICULAR" <%= producto.categoria === "AURICULAR" ? "selected" : "" %>>AURICULAR</option>
            </select>
        </div>

        <!-- Precio -->
        <div class="form-group">
            <label for="precio">Precio:</label>
            <input 
                type="number" 
                id="precio" 
                name="precio" 
                step="0.01" 
                value="<%= producto.precio %>" 
                required
            >
        </div>

        <!-- Imagen actual -->
        <div class="form-group">
            <label>Imagen actual:</label>

            <% if (producto.imagen) { %>
                <img 
                    src="/images/<%= producto.imagen %>" 
                    alt="Imagen del producto"
                    class="preview-img"
                    style="width:150px; border-radius:8px; margin-bottom:10px;"
                >
            <% } else { %>
                <p>No hay imagen cargada.</p>
            <% } %>

            <!-- Input oculto para mantener la imagen si no suben una nueva -->
            <input 
                type="hidden" 
                name="imagenActual" 
                value="<%= producto.imagen %>"
            >
        </div>

        <!-- Subir nueva imagen -->
        <div class="form-group">
            <label for="imagen">Nueva imagen (opcional):</label>
            <input type="file" id="imagen" name="imagen" accept="image/*">
        </div>

        <button type="submit" class="btn-guardar">Guardar cambios</button>
    </form>
</section>
